\documentclass[newpage,numbers,twoside]{ximera}
%% handout
%% nohints
%% newpage

\input{preamble.tex}

\let\masterdocument\document
\let\endmasterdocument\enddocument
\let\otherinput\input %% Numbering starts a page too soon without this
\newcommand{\masterinput}[1]{\otherinput{#1}\clearpage} %% Numbering starts a page too soon without this

\begin{masterdocument}

\begin{titlepage}
    \vspace*{1in}
    \begin{center}
      {\Huge \bfseries Workbook of two-dimensional geometries}\\[0.5cm]
      {\Large C.\ Herbert Clemens}\\[0.4cm]
      This document was typeset on \today.
    \end{center}
    %\vspace*{\fill}
  \end{titlepage}
\setcounter{page}{2}



\makeatletter
\newpagestyle{contents}{
\sethead[\textsl{Contents}][][] % even
{}{}{\textsl{Contents}} % odd
\setfoot[\thepage][][] % even
{}{}{\thepage} % odd
}
\pagestyle{contents}
\makeatother


\tableofcontents

\renewcommand{\documentclass}{\setbox0\vbox}
\renewcommand{\input}{\setbox0\vbox}
\renewenvironment{document}{}{}

\clearpage
\pagestyle{main}

\masterinput{./introduction/introduction.tex}
\masterinput{./euclidsPostulatesForPlaneGeometry/euclidsPostulatesForPlaneGeometry.tex}
\masterinput{./rectanglesAndCartesianCoordinates/rectanglesAndCartesianCoordinates.tex} 
\masterinput{./propertiesOfCirclesInEG/propertiesOfCirclesInEG.tex}
\masterinput{./surfaceAreaAndVolumeOfTheRSphereInEuclidean3Space/surfaceAreaAndVolumeOfTheRSphereInEuclidean3Space.tex}
\masterinput{./areasOnSpheresInEuclidean3Space/areasOnSpheresInEuclidean3Space.tex}
\masterinput{./euclideanThreeSpaceAsAMetricSpace/euclideanThreeSpaceAsAMetricSpace.tex}
\masterinput{./changingCoordinates/changingCoordinates.tex}
\masterinput{./congruencesThatIsRigidMotions/congruencesThatIsRigidMotions.tex}
\masterinput{./uniformCoordinatesForTheTwoDimensionalGeometries/uniformCoordinatesForTheTwoDimensionalGeometries.tex}
\masterinput{./centralProjection/centralProjection.tex}
\masterinput{./stereographicProjection/stereographicProjection.tex}
\masterinput{./relationshipBetweenCentralAndStereographicProjectionCoordinates/relationshipBetweenCentralAndStereographicProjectionCoordinates.tex}
\masterinput{./rigidMotionsInSphericalGeometry/rigidMotionsInSphericalGeometry.tex}
\masterinput{./sphericalGeometryIsHomogeneous/sphericalGeometryIsHomogeneous.tex}
\masterinput{./linesInSphericalGeometry/linesInSphericalGeometry.tex}
\masterinput{./centralProjectionInSG/centralProjectionInSG.tex}
\masterinput{./stereographicProjectionInSG/stereographicProjectionInSG.tex}
\masterinput{./theCurvatureKBecomesNegative/theCurvatureKBecomesNegative.tex}
\masterinput{./hyperbolicGeometryIsHomogeneous/hyperbolicGeometryIsHomogeneous.tex}
\masterinput{./linesInHyperbolicGeometry/linesInHyperbolicGeometry.tex}
\masterinput{./centralProjectionInHG/centralProjectionInHG.tex}
\masterinput{./stereographicProjectionInHG/stereographicProjectionInHG.tex}
\end{masterdocument}
